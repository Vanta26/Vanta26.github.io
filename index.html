<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encriptador</title>
    <link rel="stylesheet" href="/styles.css">
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <header>
        <img class="logo" src="/img/Alura-logo.png" alt="Alura-logo">
    </header>

    <main class="caja-principal">
        <div class="caja-1">

            <div class="caja-texto">
                <textarea class="textarea" id="entrada-texto" cols="30" rows="10"  placeholder="Ingrese el texto aqui.."></textarea>
            </div>

            <div class="sub-caja">
                <span> <i class='bx bxs-error-circle'></i> Solo letras minúsculas y sin acentos</span>
                <div class="caja-botones">
                    <button class="boton" id="encriptar">Encriptar</button>
                    <button class="boton" id="desencriptar">Desencriptar</button>
                </div>
            </div>

        </div>

        <div class="caja-2">
            <div class="caja-texto-2">
                <div>
                    <div class="imagen">
                        <img class="ilustracion" id="ilustracion" src="/img/Online protection_Monochromatic.svg" alt="ilustracion-buscando">
                    </div>
                    <textarea id="salida-texto" cols="30" rows="10"  placeholder="Ningún mensaje fue encontrado aún" readonly></textarea>
                </div>
                <button class="boton" id="boton-copiar">Copiar</button>
            </div>          
        </div>

    </main>

    <footer class="footer">
        <ul>
            <li><a href="https://www.linkedin.com/in/iv%C3%A1n-toledo-vanta/" aria-label="Linkedin" target="_blank"><i class='bx bxl-linkedin-square' ></i></a></li>
            <li><span>IvanToledo2022</span></li>
            <li><a href="https://github.com/Vanta26" aria-label="Github" target="_blank"><i class='bx bxl-github' ></i></a></li>
        </ul>
    </footer>

    <script>
        var textoEntrada = document.getElementById("entrada-texto");      
        var textoSalida = document.getElementById("salida-texto");
        var encriptar = document.getElementById("encriptar");
        var desencriptar = document.getElementById("desencriptar");
        var botonCopiar = document.getElementById("boton-copiar");

        var a = 'ai'
        var e = 'enter'
        var i = 'imes'
        var o = 'ober'
        var u = 'ufat' 
            

        function encriptado() {
                    
        var text = textoEntrada.value;
        const regex = /^[a-z0-9 ]+$/; 

        if(regex.test(text)){
            textoSalida.value = textoEntrada.value.replace(/e/g, e);    
            textoSalida.value = textoSalida.value.replace(/i/g, i);
            textoSalida.value = textoSalida.value.replace(/a/g, a);     
            textoSalida.value = textoSalida.value.replace(/o/g, o);    
            textoSalida.value = textoSalida.value.replace(/u/g, u);
            document.getElementById("ilustracion").style.display = "none";
            }
        else{
                alert('Ingrese un carácter valido');
                text = '';
            }
        }

        function desencriptado() {
            textoSalida.value = textoEntrada.value.replace(/ufat/g, 'u');           
            textoSalida.value = textoSalida.value.replace(/ai/g, 'a');       
            textoSalida.value = textoSalida.value.replace(/imes/g, 'i');    
            textoSalida.value = textoSalida.value.replace(/ober/g, 'o');    
            textoSalida.value = textoSalida.value.replace(/enter/g, 'e'); 
        }
            
        function copiado() {
            textoSalida.select();
            document.execCommand('copy');       
        }

        encriptar.addEventListener("click",encriptado);
        desencriptar.addEventListener("click",desencriptado);
        botonCopiar.addEventListener("click",copiado);
    </script>
</body>

</html>